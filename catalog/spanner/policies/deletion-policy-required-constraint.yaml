apiVersion: constraints.gatekeeper.sh/v1beta1
kind: GCPRequireDeletionPolicy
metadata:
  name: enforce-deletion-policy-annotation-spanner-instance
  annotations:
    description: Checks that resource has deletion-policy annotation set.
spec:
  match:
    kinds:
      - apiGroups: ["spanner.cnrm.cloud.google.com"]
        kinds: ["SpannerInstance", "SpannerDatabase"]

apiVersion: kpt.dev/v1alpha1
kind: Kptfile
metadata:
  name: environ-project-contents
packageMetadata:
  shortDescription: Shared resources used by GKE and ArtifactRegistry
openAPI:
  definitions:
    io.k8s.cli.setters.platform-project-id:
      x-k8s-cli:
        setter:
          name: platform-project-id
          value: platform-project-id
    io.k8s.cli.setters.org-id:
      x-k8s-cli:
        setter:
          name: org-id
          value: "123456789012"
    io.k8s.cli.setters.billing-account-id:
      x-k8s-cli:
        setter:
          name: billing-account-id
          value: AAAAAA-BBBBBB-CCCCCC
    io.k8s.cli.setters.admin-project-id:
      x-k8s-cli:
        setter:
          name: admin-project-id
          value: admin-project-id
    io.k8s.cli.setters.network-project-id:
      x-k8s-cli:
        setter:
          name: network-project-id
          value: network-project-id
    io.k8s.cli.setters.platform-admin-group:
      x-k8s-cli:
        setter:
          name: platform-admin-group
          value: platform-admins@example.com
    io.k8s.cli.setters.registry-location:
      x-k8s-cli:
        setter:
          name: registry-location
          value: us-central1
    io.k8s.cli.setters.management-namespace:
      x-k8s-cli:
        setter:
          name: management-namespace
          value: yakima-system
    io.k8s.cli.setters.projects-namespace:
      x-k8s-cli:
        setter:
          name: projects-namespace
          value: projects
    io.k8s.cli.setters.environ:
      x-k8s-cli:
        setter:
          name: environ
          value: dev
    io.k8s.cli.substitutions.platform-service-artifactregistry:
      x-k8s-cli:
        substitution:
          name: platform-service-artifactregistry
          pattern: ${platform-project-id}-artifactregistry
          values:
          - marker: ${platform-project-id}
            ref: '#/definitions/io.k8s.cli.setters.platform-project-id'
    io.k8s.cli.substitutions._subst-9:
      x-k8s-cli:
        substitution:
          name: _subst-9
          pattern: group:${platform-admin-group}
          values:
          - marker: ${platform-admin-group}
            ref: '#/definitions/io.k8s.cli.setters.platform-admin-group'
    io.k8s.cli.substitutions._subst-12:
      x-k8s-cli:
        substitution:
          name: _subst-12
          pattern: gcp-org-admins-${platform-project-id}-owner-permissions
          values:
          - marker: ${platform-project-id}
            ref: '#/definitions/io.k8s.cli.setters.platform-project-id'

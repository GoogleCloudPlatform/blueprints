apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeRouterNAT
metadata:
  annotations:
    cnrm.cloud.google.com/blueprint: cnrm/network-package:subnetwork-package/v0.2.0-alpha.1
    cnrm.cloud.google.com/project-id: project-id # {"$kpt-set":"project-id"}
  name: network-name-router-nat # {"$kpt-set":"network-nat-name"}
  namespace: networking # {"$kpt-set":"namespace"}
spec:
  natIpAllocateOption: AUTO_ONLY
  region: us-central1 # {"$kpt-set":"region"}
  routerRef:
    name: network-name-router # {"$kpt-set":"network-router-name"}
  sourceSubnetworkIpRangesToNat: ALL_SUBNETWORKS_ALL_IP_RANGES # {"$kpt-set":"source-subnetwork-ip-ranges-to-nat"}
---
apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeRouter
metadata:
  annotations:
    cnrm.cloud.google.com/blueprint: cnrm/network-package:subnetwork-package/v0.2.0-alpha.1
    cnrm.cloud.google.com/project-id: project-id # {"$kpt-set":"project-id"}
  name: network-name-router # {"$kpt-set":"network-router-name"}
  namespace: networking # {"$kpt-set":"namespace"}
spec:
  description: example router description
  networkRef:
    name: network-name # {"$kpt-set":"network-name"}
  region: us-central1 # {"$kpt-set":"region"}

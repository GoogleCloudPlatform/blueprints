apiVersion: kpt.dev/v1
kind: Kptfile
metadata:
  name: anthos-cluster
  annotations:
    blueprints.cloud.google.com/title: Anthos cluster blueprint
upstream:
  type: git
  git:
    repo: https://github.com/goose-corp/blueprints
    directory: /catalog/gke
    ref: gke-bp-m1-acm
  updateStrategy: resource-merge
upstreamLock:
  type: git
  git:
    repo: https://github.com/goose-corp/blueprints
    directory: /catalog/gke
    ref: gke-bp-m1-acm
    commit: ed5f799596778b1d11324659340253d69105f485
info:
  description: |
    A blueprint to create an Anthos cluster and install Anthos Config Management (ACM) on the cluster. The ACM installation is done by enrolling the cluster into GKE Hub Membership, enabling and configuring the ACM feature.
pipeline:
  mutators:
    - image: gcr.io/kpt-fn/apply-setters:v0.1
      configPath: setters.yaml

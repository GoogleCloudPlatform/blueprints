apiVersion: accesscontextmanager.cnrm.cloud.google.com/v1beta1
kind: AccessContextManagerServicePerimeter
metadata:
  annotations:
    cnrm.cloud.google.com/blueprint: cnrm/service-controls-perimeter/v0.2.0-alpha.1
  name: spcregionperimeter # {"$kpt-set":"service-perimeter-name"}
  namespace: networking # {"$kpt-set":"namespace"}
spec:
  accessPolicyRef:
    name: org-access-policy # {"$kpt-set":"access-policy-name"}
    namespace: networking # {"$kpt-set":"namespace"}
  description: Service Perimeter managed by Config Connector
  perimeterType: PERIMETER_TYPE_REGULAR
  status:
    accessLevels:
    - name: alregionperimeter
    resources:
    - projectRef:
        name: example-project
        namespace: projects
    restrictedServices: # {"$kpt-set":"restricted-services"}
    - storage.googleapis.com
    - bigquery.googleapis.com
  title: spregionperimeter Service Perimeter # {"$kpt-set":"service-perimeter-title"}
